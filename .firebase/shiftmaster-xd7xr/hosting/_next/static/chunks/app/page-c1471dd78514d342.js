(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{690:(e,t,a)=>{Promise.resolve().then(a.bind(a,87053))},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(52596),l=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}},87053:(e,t,a)=>{"use strict";a.d(t,{ShiftMasterApp:()=>tl});var s=a(95155),l=a(12115),r=a(99708),o=a(74466),i=a(59434);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:a,variant:l,size:o,asChild:d=!1,...c}=e,f=d?r.DX:"button";return(0,s.jsx)(f,{className:(0,i.cn)(n({variant:l,size:o,className:a})),ref:t,...c})});d.displayName="Button";var c=a(45746),f=a(79556),u=a(77381),m=a(10518);let h=c.bL;c.YJ;let x=c.WT,p=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(c.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,s.jsx)(c.In,{asChild:!0,children:(0,s.jsx)(f.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=c.l9.displayName;let y=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})});y.displayName=c.PP.displayName;let g=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(f.A,{className:"h-4 w-4"})})});g.displayName=c.wn.displayName;let b=l.forwardRef((e,t)=>{let{className:a,children:l,position:r="popper",...o}=e;return(0,s.jsx)(c.ZL,{children:(0,s.jsxs)(c.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...o,children:[(0,s.jsx)(y,{}),(0,s.jsx)(c.LM,{className:(0,i.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(g,{})]})})});b.displayName=c.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=c.JU.displayName;let v=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(c.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(c.VF,{children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})}),(0,s.jsx)(c.p4,{children:l})]})});v.displayName=c.q7.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=c.wv.displayName;var j=a(40968);let N=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),w=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(j.b,{ref:t,className:(0,i.cn)(N(),a),...l})});w.displayName=j.b.displayName;var F=a(20547);let S=F.bL,C=F.l9,D=l.forwardRef((e,t)=>{let{className:a,align:l="center",sideOffset:r=4,...o}=e;return(0,s.jsx)(F.ZL,{children:(0,s.jsx)(F.UC,{ref:t,align:l,sideOffset:r,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});D.displayName=F.UC.displayName;var T=a(965),R=a(73158),O=a(51487);function k(e){let{className:t,classNames:a,showOutsideDays:l=!0,...r}=e;return(0,s.jsx)(O.hv,{showOutsideDays:l,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)(n({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)(n({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(T.A,{className:(0,i.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(R.A,{className:(0,i.cn)("h-4 w-4",t),...a})}},...r})}k.displayName="Calendar";var A=a(19164),E=a(74641),M=a(83013),z=a(90540),I=a(51920);let H=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});H.displayName="Card";let _=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...l})});_.displayName="CardHeader";let P=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});P.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})}).displayName="CardDescription";let V=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...l})});function U(e){let{filters:t,employees:a,roles:l,onFilterChange:r}=e,o=e=>t=>{r({[e]:"all"===t?"":t})};return(0,A.w)(t.selectedDate||new Date),(0,E.p)(t.selectedDate||new Date),(0,s.jsxs)(H,{className:"p-4 shadow-sm mb-4",children:[(0,s.jsx)(_,{className:"p-2 mb-2",children:(0,s.jsx)(P,{className:"text-lg text-primary",children:"Filtros e Sele\xe7\xe3o de Data"})}),(0,s.jsx)(V,{className:"p-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"employee-filter",children:"Colaborador"}),(0,s.jsxs)(h,{value:t.employee||"all",onValueChange:o("employee"),children:[(0,s.jsx)(p,{id:"employee-filter",children:(0,s.jsx)(x,{placeholder:"Selecione Colaborador"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:"all",children:"Todos"}),a.map(e=>(0,s.jsx)(v,{value:e.id.toString(),children:e.name},"emp-".concat(e.id)))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"role-filter",children:"Fun\xe7\xe3o"}),(0,s.jsxs)(h,{value:t.role||"all",onValueChange:o("role"),children:[(0,s.jsx)(p,{id:"role-filter",children:(0,s.jsx)(x,{placeholder:"Selecione a Fun\xe7\xe3o"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:"all",children:"Todas"}),l.map(e=>(0,s.jsx)(v,{value:e,children:e},"role-".concat(e)))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"selected-date-filter",children:"Data para WhatsApp"}),(0,s.jsxs)(S,{children:[(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)(d,{id:"selected-date-filter",variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,s.jsx)(I.A,{className:"mr-2 h-4 w-4"}),t.selectedDate?(0,M.GP)(t.selectedDate,"PPP",{locale:z.F}):(0,s.jsx)("span",{children:"Selecione data"})]})}),(0,s.jsx)(D,{className:"w-auto p-0",children:(0,s.jsx)(k,{mode:"single",selected:t.selectedDate,onSelect:e=>{e&&r({selectedDate:e})},month:t.selectedDate||new Date,initialFocus:!0,locale:z.F})})]})]})]})})]})}V.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var G=a(23129),W=a(57082),L=a(37648);let Y=l.forwardRef((e,t)=>{let{className:a,type:l,...r}=e;return(0,s.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});Y.displayName="Input";let Q={T:"Trabalha",F:"Folga",FF:"Folga Feriado"},q=["T","F","FF"],J={Abertura:"10h \xe0s 18h",Intermediário:"12h \xe0s 20h",Fechamento:"14h \xe0s 22h",Nenhum:""},K={Abertura:["10h \xe0s 18h"],Intermediário:["12h \xe0s 20h"],Fechamento:["14h \xe0s 22h"]},Z={Abertura:["10h \xe0s 18h","10h \xe0s 19h","10h \xe0s 20h"],Fechamento:["11h \xe0s 21h","12h \xe0s 22h","13h \xe0s 22h"]},B={Abertura:["12h \xe0s 20h"],Fechamento:["13h \xe0s 21h"]},X={Abertura:["12h \xe0s 18h","13h \xe0s 19h"],Fechamento:["14h \xe0s 20h","15h \xe0s 21h"]},$=(e,t)=>{if(!(e instanceof Date)||isNaN(e.getTime()))return console.warn("Invalid date passed to getTimeOptionsForDate. Returning default times."),[...K.Abertura,...K.Intermediário,...K.Fechamento];if(t)return[...X.Abertura,...X.Fechamento];switch(e.getDay()){case 0:return[...B.Abertura,...B.Fechamento];case 5:case 6:return[...Z.Abertura,...Z.Fechamento];default:return[...K.Abertura,...K.Intermediário,...K.Fechamento]}},ee={Caixa:"\uD83D\uDD34",Vendas:"\uD83D\uDD35",Estoque:"⚫",Fiscal:"\uD83D\uDFE3",Pacote:"\uD83D\uDFE2",Organização:"\uD83D\uDFE1",Outro:"⚪"},et=["Caixa","Vendas","Estoque","Fiscal","Pacote","Organiza\xe7\xe3o","Outro"],ea=["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],es=["Abertura","Intermedi\xe1rio","Fechamento","Nenhum"],el={T:"bg-destructive text-destructive-foreground",F:"bg-muted text-muted-foreground",FF:"bg-accent text-accent-foreground"},er=["T","F"],eo="--none--";function ei(e){let{shift:t,role:a,baseHours:r,holidayReason:o,date:n,availableRoles:c,isHoliday:f,onChange:u,onDetailChange:m,hasViolation:y}=e,[g,j]=(0,l.useState)(!1),[N,F]=(0,l.useState)(t),[T,R]=(0,l.useState)(a),[O,k]=(0,l.useState)(r),[A,E]=(0,l.useState)(null!=o?o:"");(0,l.useEffect)(()=>{g&&(F(t),R(a),k(r),E(null!=o?o:""))},[g,t,a,r,o]);let z=(0,l.useMemo)(()=>$(n,f),[n,f]),I=(0,l.useCallback)(e=>{if(!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&("T"===t||"F"===t)){let e=(er.indexOf(t)+1)%er.length;u(er[e])}},[t,u]),H=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),g||j(!0)},[g]),_=(0,l.useCallback)(e=>{e.preventDefault(),H(e)},[H]),P="Dia: ".concat((0,M.GP)(n,"dd/MM")," - ").concat(Q[t]).concat("FF"===t&&o?" (".concat(o,")"):"","\nClique: ").concat("T"===t||"F"===t?"Alternar T/F":"Nada","\nShift/Ctrl/Direito: Detalhes/Mudar Turno");return(0,s.jsxs)(S,{open:g,onOpenChange:j,children:[(0,s.jsx)(C,{asChild:!0,children:(0,s.jsxs)("button",{className:(0,i.cn)("w-full h-full flex flex-col items-center justify-center text-xs p-0.5 sm:p-1 select-none relative transition-colors duration-150 ease-in-out group focus:outline-none focus:ring-1 focus:ring-ring focus:z-10",el[t],f?"border border-dashed border-primary/50":"",y&&"T"===t?"ring-1 sm:ring-2 ring-offset-1 ring-yellow-500":"","hover:brightness-90 dark:hover:brightness-110"),onClick:I,onContextMenu:_,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&H(e)},onMouseDown:e=>{(e.shiftKey||e.ctrlKey||e.metaKey)&&H(e)},title:P,children:[(0,s.jsx)("span",{className:"font-semibold text-xs sm:text-sm pointer-events-none",children:t}),"T"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"block truncate text-[8px] sm:text-[10px] opacity-80 pointer-events-none leading-tight",children:a||"S/Fun\xe7\xe3o"}),(0,s.jsx)("span",{className:"block truncate text-[8px] sm:text-[10px] opacity-80 pointer-events-none leading-tight",children:r||"S/Hor\xe1rio"})]}),"FF"===t&&o&&(0,s.jsx)("span",{className:"block truncate text-[8px] sm:text-[10px] opacity-80 pointer-events-none leading-tight",title:o,children:"(".concat(o,")")}),(0,s.jsx)("div",{"data-edit-icon":"true",className:"absolute bottom-0 right-0 p-0.5 rounded-sm hover:bg-black/10 dark:hover:bg-white/10 cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Editar detalhes/turno",role:"button",tabIndex:-1,children:(0,s.jsx)(G.A,{className:"h-2 w-2 sm:h-2.5 sm:w-2.5 opacity-50 group-hover:opacity-100 pointer-events-none"})})]})}),(0,s.jsx)(D,{className:"w-56 p-3",onOpenAutoFocus:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Editar Dia"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"shift-type-select-".concat(n.toISOString()),className:"text-xs",children:"Tipo"}),(0,s.jsxs)(h,{value:N,onValueChange:e=>{F(e),"T"!==e&&(R(""),k("")),"FF"!==e&&E("")},children:[(0,s.jsx)(p,{id:"shift-type-select-".concat(n.toISOString()),className:"h-8 text-xs w-full",children:(0,s.jsx)(x,{placeholder:"Selecione..."})}),(0,s.jsx)(b,{children:q.map(e=>(0,s.jsx)(v,{value:e,className:"text-xs",children:Q[e]},"shift-opt-".concat(e)))})]})]}),"T"===N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"role-select-".concat(n.toISOString()),className:"text-xs",children:"Fun\xe7\xe3o"}),(0,s.jsxs)(h,{value:T||eo,onValueChange:e=>{R(e===eo?"":e)},children:[(0,s.jsxs)(p,{id:"role-select-".concat(n.toISOString()),className:"h-8 text-xs w-full",children:[(0,s.jsx)(W.A,{className:"mr-1 h-3 w-3 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate flex-grow text-left",children:(0,s.jsx)(x,{placeholder:"Selecione..."})})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:eo,children:"Nenhuma"},"role-none"),c.map(e=>(0,s.jsx)(v,{value:e,className:"text-xs",children:e},"role-opt-".concat(e)))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"time-select-".concat(n.toISOString()),className:"text-xs",children:"Hor\xe1rio"}),(0,s.jsxs)(h,{value:O||eo,onValueChange:e=>{k(e===eo?"":e)},children:[(0,s.jsxs)(p,{id:"time-select-".concat(n.toISOString()),className:"h-8 text-xs w-full",children:[(0,s.jsx)(L.A,{className:"mr-1 h-3 w-3 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate flex-grow text-left",children:(0,s.jsx)(x,{placeholder:"Selecione..."})})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:eo,children:"Nenhum"},"time-none"),z.map(e=>(0,s.jsx)(v,{value:e,className:"text-xs",children:e},"time-opt-".concat(e)))]})]})]})]}),"FF"===N&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(w,{htmlFor:"holiday-reason-".concat(n.toISOString()),className:"text-xs",children:"Motivo Feriado (Opcional)"}),(0,s.jsx)(Y,{id:"holiday-reason-".concat(n.toISOString()),type:"text",placeholder:"Ex: Carnaval",value:A,onChange:e=>{E(e.target.value)},className:"h-8 text-xs"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,s.jsx)(d,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>j(!1),children:"Cancelar"}),(0,s.jsx)(d,{size:"sm",className:"text-xs h-7",onClick:()=>{N!==t&&u(N),"T"===N?(T!==a&&m("role",T),O!==r&&m("baseHours",O),"FF"===t&&m("holidayReason","")):"FF"===N?(A!==(null!=o?o:"")&&m("holidayReason",A),"T"===t&&(m("role",""),m("baseHours",""))):("T"===t&&(m("role",""),m("baseHours","")),"FF"===t&&m("holidayReason","")),j(!1)},children:"Salvar"})]})]})})]})}var en=a(80644),ed=a(70831),ec=a(82083);function ef(e,t){let a=[],s=(0,en.o)(e),l=(0,en.o)(t);if(isNaN(s.getTime())||isNaN(l.getTime())){console.error("Invalid start or end date provided to getDatesInRange");let e=new Date;s=(0,A.w)(e);let t=(0,E.p)(e);for(;s<=t&&(a.push(new Date(s)),s=(0,ed.f)(s,1),!(a.length>40)););return a}for(;s<=l;){if(a.push(new Date(s)),a.length>45){console.warn("getDatesInRange exceeded 45 days, breaking loop.");break}s=(0,ed.f)(s,1)}return a}function eu(e,t){if(!(t instanceof Date)||isNaN(t.getTime())){console.error("Invalid date provided to getScheduleKey for employee:",e);let t=(0,M.GP)(new Date,"yyyy-MM-dd");return"".concat(e,"-").concat(t,"-invalidDate")}return"".concat(e,"-").concat((0,M.GP)(t,"yyyy-MM-dd"))}let em=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...r,children:l})})});em.displayName="Table";let eh=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...l})});eh.displayName="TableHeader";let ex=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...l})});ex.displayName="TableBody",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let ep=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});ep.displayName="TableRow";let ey=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...l})});ey.displayName="TableHead";let eg=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...l})});eg.displayName="TableCell",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption";var eb=a(50085),ev=a(18763),ej=a(77223),eN=a(31949),ew=a(89613);let eF=ew.Kq,eS=ew.bL,eC=ew.l9,eD=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,s.jsx)(ew.UC,{ref:t,sideOffset:l,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});eD.displayName=ew.UC.displayName;let eT={0:"DOM",1:"SEG",2:"TER",3:"QUA",4:"QUI",5:"SEX",6:"SAB"};function eR(e){let{employees:t,schedule:a,dates:r,holidays:o,onShiftChange:n,onDetailChange:c,onEditEmployee:f,onDeleteEmployee:u,onToggleHoliday:m}=e,h=(0,l.useCallback)(e=>{if(!e||isNaN(e.getTime()))return!1;let t=(0,en.o)(e);return o.some(e=>(0,ec.n)((0,en.o)(e),t))},[o]),x=(0,l.useCallback)((e,s)=>{var l,r,o;let i=t.find(t=>t.id===e);if(!i||"T"!==(null===(l=a[eu(e,s)])||void 0===l?void 0:l.shift))return{consecutiveDays:!1,consecutiveSundays:!1,fixedDayOff:!1};let n=1;for(let t=1;t<=6;t++)if((null===(r=a[eu(e,(0,ed.f)(s,-t))])||void 0===r?void 0:r.shift)==="T")n++;else break;let d=n>6,c=!1;if(0===s.getDay()){let t=1;for(let l=1;l<=3;l++)if((null===(o=a[eu(e,(0,ed.f)(s,-(7*l)))])||void 0===o?void 0:o.shift)==="T")t++;else break;c=t>3}let f=s.getDay(),u=i.fixedDayOff?({Domingo:0,Segunda:1,Terça:2,Quarta:3,Quinta:4,Sexta:5,Sábado:6})[i.fixedDayOff]:void 0;return{consecutiveDays:d,consecutiveSundays:c,fixedDayOff:void 0!==u&&f===u}},[t,a]);return(0,s.jsxs)("div",{className:"relative overflow-x-auto w-full h-full",children:[" ",(0,s.jsxs)(em,{className:"min-w-full border-collapse relative table-auto",children:[" ",(0,s.jsx)(eh,{className:"sticky top-0 z-10 bg-card shadow-sm",children:(0,s.jsxs)(ep,{children:[(0,s.jsxs)(ey,{className:"sticky left-0 z-20 bg-card p-1 sm:p-2 border text-xs sm:text-sm text-center font-semibold whitespace-nowrap w-auto min-w-[100px]",children:[" ","Colaborador"]}),(0,s.jsxs)(ey,{className:"sticky left-[calc(100px+theme(spacing.px))] md:left-[calc(120px+theme(spacing.px))] z-20 bg-card p-1 border w-16 min-w-[64px] max-w-[64px] text-center font-semibold text-xs sm:text-sm",children:[" ","A\xe7\xf5es"]}),r.map(e=>{let t=h(e);return(0,s.jsx)(ey,{className:(0,i.cn)("p-1 border text-center font-semibold text-[10px] sm:text-xs leading-tight w-10 min-w-[40px] max-w-[50px]",t?"bg-primary/10":""),children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)("span",{children:eT[e.getDay()]}),(0,s.jsx)("span",{children:(0,M.GP)(e,"dd",{locale:z.F})}),(0,s.jsx)(eF,{delayDuration:100,children:(0,s.jsxs)(eS,{children:[(0,s.jsx)(eC,{asChild:!0,children:(0,s.jsx)(d,{variant:"ghost",size:"icon",className:(0,i.cn)("h-4 w-4 p-0 mt-0.5 opacity-50 hover:opacity-100",t?"text-primary":"text-muted-foreground"),onClick:()=>m(e),"aria-label":t?"Remover feriado":"Marcar como feriado",children:(0,s.jsx)(eb.A,{className:"h-3 w-3"})})}),(0,s.jsx)(eD,{side:"bottom",className:"text-xs",children:t?"Remover Feriado":"Marcar como Feriado"})]})})]})},e.toISOString())})]})}),(0,s.jsx)(ex,{children:0===t.length?(0,s.jsx)(ep,{children:(0,s.jsx)(eg,{colSpan:r.length+2,className:"text-center p-4 sm:p-8 text-muted-foreground",children:"Nenhum colaborador encontrado."})}):t.map(e=>(0,s.jsxs)(ep,{className:"hover:bg-muted/10 group h-auto",children:[" ",(0,s.jsxs)(eg,{className:"sticky left-0 z-10 bg-card group-hover:bg-muted/10 p-1 sm:p-2 border font-medium whitespace-nowrap text-xs sm:text-sm w-auto min-w-[100px]",children:[" ",e.name]}),(0,s.jsxs)(eg,{className:"sticky left-[calc(100px+theme(spacing.px))] md:left-[calc(120px+theme(spacing.px))] z-10 bg-card group-hover:bg-muted/10 p-0.5 sm:p-1 border w-16 min-w-[64px] max-w-[64px] text-center",children:[" ",(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-0.5 sm:space-y-0 sm:space-x-0.5 h-full",children:[(0,s.jsx)(eF,{delayDuration:100,children:(0,s.jsxs)(eS,{children:[(0,s.jsx)(eC,{asChild:!0,children:(0,s.jsx)(d,{"aria-label":"Editar ".concat(e.name),variant:"ghost",size:"icon",className:"h-6 w-6 sm:h-7 sm:w-7",onClick:()=>f(e),children:(0,s.jsx)(ev.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),(0,s.jsx)(eD,{side:"top",children:(0,s.jsx)("p",{children:"Editar Colaborador"})})]})}),(0,s.jsx)(eF,{delayDuration:100,children:(0,s.jsxs)(eS,{children:[(0,s.jsx)(eC,{asChild:!0,children:(0,s.jsx)(d,{"aria-label":"Remover ".concat(e.name),variant:"ghost",size:"icon",className:"h-6 w-6 sm:h-7 sm:w-7 text-destructive hover:text-destructive/90",onClick:()=>u(e.id),children:(0,s.jsx)(ej.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),(0,s.jsx)(eD,{side:"top",className:"bg-destructive text-destructive-foreground",children:(0,s.jsx)("p",{children:"Remover Colaborador"})})]})})]})]}),r.map(t=>{let l=a[eu(e.id,t)],r=x(e.id,t),o=h(t),d=(null==l?void 0:l.shift)==="T"&&(r.consecutiveDays||r.consecutiveSundays||r.fixedDayOff),f=l||{shift:"F",role:"",baseHours:"",holidayReason:void 0};return(0,s.jsxs)(eg,{className:(0,i.cn)("p-0 border h-full relative w-10 min-w-[40px] max-w-[50px]",o?"bg-primary/5":""),children:[d&&(0,s.jsx)(eF,{delayDuration:100,children:(0,s.jsxs)(eS,{children:[(0,s.jsx)(eC,{asChild:!0,children:(0,s.jsx)("button",{className:"absolute top-0.5 right-0.5 p-0 z-10 text-yellow-500 hover:text-yellow-400 focus:outline-none focus:ring-1 focus:ring-yellow-600 rounded-full","aria-label":"Viola\xe7\xe3o de regra",children:(0,s.jsx)(eN.A,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"})})}),(0,s.jsxs)(eD,{side:"top",className:"text-xs p-1 bg-destructive text-destructive-foreground",children:[r.consecutiveDays&&(0,s.jsx)("p",{children:"Viola\xe7\xe3o: +6 dias trab."}),r.consecutiveSundays&&(0,s.jsx)("p",{children:"Viola\xe7\xe3o: +3 domingos trab."}),r.fixedDayOff&&(0,s.jsx)("p",{children:"Viola\xe7\xe3o: Trab. na folga fixa."})]})]})}),(0,s.jsx)("div",{className:"w-full h-full",children:(0,s.jsx)(ei,{shift:f.shift,role:f.role,baseHours:f.baseHours,holidayReason:f.holidayReason,date:t,availableRoles:et,isHoliday:o,onChange:a=>n(e.id,t,a),onDetailChange:(a,s)=>c(e.id,t,a,s),hasViolation:d})})]},t.toISOString())})]},e.id))})]}),(0,s.jsxs)("div",{className:"mt-4 p-2 border rounded bg-card text-sm",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Legenda:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[Object.entries(Q).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:(0,i.cn)("inline-block w-3 h-3 rounded-sm","T"===t?"bg-destructive":"","F"===t?"bg-muted":"","FF"===t?"bg-accent":"")}),(0,s.jsxs)("span",{children:[t,": ",a]})]},t)}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eb.A,{className:"h-3 w-3 text-primary"}),(0,s.jsx)("span",{children:"Dia marcado como Feriado"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eN.A,{className:"h-3 w-3 text-yellow-500"}),(0,s.jsx)("span",{children:"Viola\xe7\xe3o de Regra"})]})]})]})]})}var eO=a(87481),ek=a(83343),eA=a(63482),eE=a(24386),eM=a(15300),ez=a(83125),eI=a(13896),eH=a(8531),e_=a(62177),eP=a(90221),eV=a(55594),eU=a(15452),eG=a(25318);let eW=eU.bL;eU.l9;let eL=eU.ZL,eY=eU.bm,eQ=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eU.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});eQ.displayName=eU.hJ.displayName;let eq=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(eL,{children:[(0,s.jsx)(eQ,{}),(0,s.jsxs)(eU.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,(0,s.jsxs)(eU.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(eG.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eq.displayName=eU.UC.displayName;let eJ=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};eJ.displayName="DialogHeader";let eK=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};eK.displayName="DialogFooter";let eZ=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eU.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});eZ.displayName=eU.hE.displayName;let eB=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eU.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});eB.displayName=eU.VY.displayName;let eX="select-none",e$=eV.Ik({id:eV.ai().nullable(),name:eV.Yj().min(2,{message:"O nome deve ter pelo menos 2 caracteres."}),fixedDayOff:eV.k5([eX,...ea]),defaultRole:eV.Yj().optional(),defaultShiftType:eV.k5([eX,...es])});function e0(e){let{isOpen:t,onOpenChange:a,employee:r,onSave:o}=e,{register:i,handleSubmit:n,control:c,reset:f,formState:{errors:u}}=(0,e_.mN)({resolver:(0,eP.u)(e$),defaultValues:{id:null,name:"",fixedDayOff:eX,defaultRole:"",defaultShiftType:eX}});return(0,l.useEffect)(()=>{if(t){var e,a,s;f({id:null!==(e=null==r?void 0:r.id)&&void 0!==e?e:null,name:null!==(a=null==r?void 0:r.name)&&void 0!==a?a:"",fixedDayOff:(null==r?void 0:r.fixedDayOff)||eX,defaultRole:null!==(s=null==r?void 0:r.defaultRole)&&void 0!==s?s:"",defaultShiftType:(null==r?void 0:r.defaultShiftType)||eX})}},[t,r,f]),(0,s.jsx)(eW,{open:t,onOpenChange:a,children:(0,s.jsxs)(eq,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(eJ,{children:[(0,s.jsx)(eZ,{children:r?"Editar Colaborador":"Adicionar Colaborador"}),(0,s.jsx)(eB,{children:r?"Atualize as informa\xe7\xf5es do colaborador.":"Preencha os dados do novo colaborador."})]}),(0,s.jsxs)("form",{onSubmit:n(e=>{var t;o({id:null!==(t=e.id)&&void 0!==t?t:0,name:e.name,fixedDayOff:e.fixedDayOff===eX?void 0:e.fixedDayOff,defaultRole:e.defaultRole||void 0,defaultShiftType:e.defaultShiftType===eX?void 0:e.defaultShiftType})}),children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w,{htmlFor:"name",className:"text-right",children:"Nome"}),(0,s.jsxs)("div",{className:"col-span-3",children:[(0,s.jsx)(Y,{id:"name",...i("name"),className:u.name?"border-destructive":""}),u.name&&(0,s.jsx)("p",{className:"text-xs text-destructive mt-1",children:u.name.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w,{htmlFor:"fixedDayOff",className:"text-right",children:"Folga Fixa"}),(0,s.jsx)(e_.xI,{name:"fixedDayOff",control:c,render:e=>{let{field:t}=e;return(0,s.jsxs)(h,{onValueChange:t.onChange,value:t.value,children:[(0,s.jsx)(p,{id:"fixedDayOff",className:"col-span-3",children:(0,s.jsx)(x,{placeholder:"Nenhuma"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:eX,children:"Nenhuma"}),ea.map(e=>(0,s.jsx)(v,{value:e,children:e},e))]})]})}}),u.fixedDayOff&&(0,s.jsx)("p",{className:"col-start-2 col-span-3 text-xs text-destructive mt-1",children:u.fixedDayOff.message})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w,{htmlFor:"defaultRole",className:"text-right",children:"Fun\xe7\xe3o Padr\xe3o"}),(0,s.jsx)(e_.xI,{name:"defaultRole",control:c,render:e=>{let{field:t}=e;return(0,s.jsxs)(h,{onValueChange:t.onChange,value:t.value||eX,children:[(0,s.jsx)(p,{id:"defaultRole",className:"col-span-3",children:(0,s.jsx)(x,{placeholder:"Nenhuma"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:eX,children:"Nenhuma"}),et.map(e=>(0,s.jsx)(v,{value:e,children:e},e))]})]})}}),u.defaultRole&&(0,s.jsx)("p",{className:"col-start-2 col-span-3 text-xs text-destructive mt-1",children:u.defaultRole.message})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w,{htmlFor:"defaultShiftType",className:"text-right",children:"Turno Padr\xe3o"}),(0,s.jsx)(e_.xI,{name:"defaultShiftType",control:c,render:e=>{let{field:t}=e;return(0,s.jsxs)(h,{onValueChange:t.onChange,value:t.value,children:[(0,s.jsx)(p,{id:"defaultShiftType",className:"col-span-3",children:(0,s.jsx)(x,{placeholder:"Nenhum"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:eX,children:"Nenhum"}),es.filter(e=>"Nenhum"!==e).map(e=>(0,s.jsx)(v,{value:e,children:e},e))]})]})}}),u.defaultShiftType&&(0,s.jsx)("p",{className:"col-start-2 col-span-3 text-xs text-destructive mt-1",children:u.defaultShiftType.message})]})]}),(0,s.jsxs)(eK,{children:[(0,s.jsx)(eY,{asChild:!0,children:(0,s.jsx)(d,{type:"button",variant:"outline",children:"Cancelar"})}),(0,s.jsx)(d,{type:"submit",children:"Salvar Altera\xe7\xf5es"})]})]})]})})}var e1=a(17649);let e2=e1.bL;e1.l9;let e5=e1.ZL,e4=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(e1.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:t})});e4.displayName=e1.hJ.displayName;let e3=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsxs)(e5,{children:[(0,s.jsx)(e4,{}),(0,s.jsx)(e1.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});e3.displayName=e1.UC.displayName;let e8=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};e8.displayName="AlertDialogHeader";let e6=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};e6.displayName="AlertDialogFooter";let e9=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(e1.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold",a),...l})});e9.displayName=e1.hE.displayName;let e7=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(e1.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});e7.displayName=e1.VY.displayName;let te=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(e1.rc,{ref:t,className:(0,i.cn)(n(),a),...l})});te.displayName=e1.rc.displayName;let tt=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(e1.ZD,{ref:t,className:(0,i.cn)(n({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});tt.displayName=e1.ZD.displayName;var ta=a(26597);a(86087);let ts="shiftMasterSchedule_v3";function tl(){var e;let[t,a]=(0,l.useState)([]),[r,o]=(0,l.useState)({}),[i,n]=(0,l.useState)((0,A.w)(new Date)),[c,f]=(0,l.useState)({employee:"",role:"",selectedDate:new Date}),[u,m]=(0,l.useState)([]),[h,x]=(0,l.useState)(!1),{toast:p}=(0,eO.dj)(),[y,g]=(0,l.useState)(!1),[b,v]=(0,l.useState)(null),[j,N]=(0,l.useState)(null),[w,F]=(0,l.useState)(!1),S=(0,l.useRef)(null),C=(0,l.useCallback)(e=>{if(!e||isNaN(e.getTime()))return!1;let t=(0,en.o)(e);return u.some(e=>(0,ec.n)((0,en.o)(e),t))},[u]);(0,l.useEffect)(()=>{x(!0);let e=localStorage.getItem(ts),t=!1;if(e)try{let r=JSON.parse(e);if(r.employees&&r.schedule){a(r.employees);let e=r.filters||{};f({employee:e.employee||"",role:e.role||"",selectedDate:e.selectedDate?(0,ek.H)(e.selectedDate):new Date}),m((r.holidays||[]).map(e=>(0,ek.H)(e))),n((0,A.w)(e.selectedDate?(0,ek.H)(e.selectedDate):new Date));let i={};for(let e in r.schedule)if(Object.prototype.hasOwnProperty.call(r.schedule,e)){var s,l;let t=r.schedule[e];i[e]={shift:t.shift,role:null!==(s=t.role)&&void 0!==s?s:"",baseHours:null!==(l=t.baseHours)&&void 0!==l?l:"",holidayReason:t.holidayReason}}o(i),t=!0}}catch(e){console.error("Failed to parse stored schedule data:",e),p({title:"Erro",description:"Falha ao carregar dados salvos. Redefinindo para o padr\xe3o.",variant:"destructive"})}t||D()},[p]);let D=(0,l.useCallback)(()=>{let{initialEmployees:e,initialSchedule:t,initialFilters:s,initialHolidays:l}=function(){let e=[{id:1,name:"Alice Silva",fixedDayOff:"Segunda",defaultRole:"Vendas",defaultShiftType:"Abertura"},{id:2,name:"Bruno Costa",defaultRole:"Caixa",defaultShiftType:"Intermedi\xe1rio"},{id:3,name:"Carla Dias",fixedDayOff:"Quarta",defaultRole:"Estoque",defaultShiftType:"Fechamento"},{id:4,name:"Daniel Souza",defaultRole:"Fiscal"},{id:5,name:"Eduarda Lima",defaultRole:"Pacote",defaultShiftType:"Abertura"},{id:6,name:"F\xe1bio Mendes",defaultRole:"Organiza\xe7\xe3o",defaultShiftType:"Intermedi\xe1rio"},{id:7,name:"Gabriela Rocha",fixedDayOff:"Domingo",defaultRole:"Vendas"},{id:8,name:"Hugo Pereira",defaultRole:"Caixa",defaultShiftType:"Fechamento"}],t={},a=new Date,s=[];11===a.getMonth()&&s.push((0,en.o)(new Date(a.getFullYear(),11,25))),0===a.getMonth()&&s.push((0,en.o)(new Date(a.getFullYear(),0,1)));let l=ef((0,A.w)(a),(0,E.p)(a)),r={};ea.forEach((e,t)=>r[e]=t);let o=e=>{let t=(0,en.o)(e);return s.some(e=>(0,ec.n)(e,t))};return e.forEach(e=>{l.forEach(a=>{let s=eu(e.id,a),l=a.getDay(),i=e.fixedDayOff&&l===r[e.fixedDayOff],n=o(a),d={shift:"F",role:"",baseHours:"",holidayReason:void 0};if(i)d.shift="F";else if(e.defaultRole&&e.defaultShiftType&&"Nenhum"!==e.defaultShiftType){d.shift="T",d.role=e.defaultRole;let t=$(a,n),s=J[e.defaultShiftType];d.baseHours=t.includes(s)?s:t[0]||""}t[s]=d})}),{initialEmployees:e,initialSchedule:t,initialFilters:{employee:"",role:"",selectedDate:a},initialHolidays:s}}();a(e),o(t),f(s),m(l),n((0,A.w)(s.selectedDate))},[]);(0,l.useEffect)(()=>{h&&t.length>0&&T(t,r,c,u)},[t,r,c,u,h]);let T=(e,t,a,s)=>{try{var l;let r={...a,selectedDate:null===(l=a.selectedDate)||void 0===l?void 0:l.toISOString()},o=s.map(e=>e.toISOString()),i=JSON.stringify({employees:e,schedule:t,filters:r,holidays:o});localStorage.setItem(ts,i)}catch(e){console.error("Failed to save schedule data:",e),p({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es no armazenamento local.",variant:"destructive"})}},R=(0,l.useCallback)(e=>{let a=(0,en.o)(e),s=C(e);m(e=>{let t=e.findIndex(e=>(0,ec.n)((0,en.o)(e),a));return t>-1?e.filter((e,a)=>a!==t):[...e,a].sort((e,t)=>e.getTime()-t.getTime())});let l=!s;o(a=>{let s={...a};return t.forEach(t=>{let a=eu(t.id,e),r=s[a];if(r&&"T"===r.shift){let o=$(e,l);if(!o.includes(r.baseHours)){let e=t.defaultShiftType,l=o[0]||"";if(e&&"Nenhum"!==e){let t=J[e];o.includes(t)&&(l=t)}s[a]={...r,baseHours:l}}}}),s}),p({title:"Feriado Atualizado",description:"Dia ".concat((0,M.GP)(e,"dd/MM")," ").concat(s?"n\xe3o \xe9 mais":"agora \xe9"," feriado.")})},[u,p,C,t]),O=(0,l.useCallback)(e=>{f(t=>({...t,...e})),e.selectedDate&&n((0,A.w)(e.selectedDate))},[]),k=(0,l.useCallback)(()=>{v(null),g(!0)},[]),I=(0,l.useCallback)(e=>{v(e),g(!0)},[]),H=(0,l.useCallback)(e=>{N(e)},[]),_=(0,l.useCallback)(()=>{null!==j&&(a(e=>e.filter(e=>e.id!==j)),o(e=>{let t={...e};return Object.keys(t).forEach(e=>{let[a]=e.split("-");parseInt(a)===j&&delete t[e]}),t}),p({title:"Sucesso",description:"Colaborador removido."}),N(null))},[j,p]),P=(0,l.useCallback)(e=>{let t,s=[],l=!1;if(a(a=>{let r=a.findIndex(t=>t.id===e.id);if(r>-1)return t=a[r],(s=[...a])[r]=e,s;{let t=a.length>0?Math.max(...a.map(e=>e.id))+1:1;return s=[...a,{...e,id:t}],l=!0,s}}),!l&&t&&t.fixedDayOff!==e.fixedDayOff||l){let a=e.id,s=e.fixedDayOff,r=null==t?void 0:t.fixedDayOff,n={};ea.forEach((e,t)=>n[e]=t);let d=s?n[s]:void 0,c=r?n[r]:void 0;o(t=>{let s={...t};return ef((0,A.w)(i),(0,E.p)(i)).forEach(t=>{let r=eu(a,t);try{if(isNaN(t.getTime()))return;let a=t.getDay(),o=s[r],i=C(t);if(void 0!==d&&a===d)o&&"FF"===o.shift||(s[r]={shift:"F",role:"",baseHours:"",holidayReason:void 0});else if(void 0!==c&&a===c&&d!==a&&(null==o?void 0:o.shift)==="F"){let a="F",l="",n="";if(e.defaultRole&&e.defaultShiftType&&"Nenhum"!==e.defaultShiftType){a="T",l=e.defaultRole;let s=$(t,i),r=J[e.defaultShiftType];n=s.includes(r)?r:s[0]||""}s[r]={...o,shift:a,role:l,baseHours:n,holidayReason:void 0}}else if(l&&!o){let a="F",l="",o="";if(e.defaultRole&&e.defaultShiftType&&"Nenhum"!==e.defaultShiftType){a="T",l=e.defaultRole;let s=$(t,i),r=J[e.defaultShiftType]||"";o=s.includes(r)?r:s[0]||""}s[r]={shift:a,role:l,baseHours:o,holidayReason:void 0}}}catch(e){console.error("Error processing schedule key for fixed day update: ".concat(r),e)}}),s})}g(!1),v(null),p({title:"Sucesso",description:"Colaborador ".concat(l?"adicionado":"atualizado",".")})},[p,i,C]),V=(0,l.useCallback)((e,t)=>{if(!e.fixedDayOff)return!1;let a=t.getDay(),s={};ea.forEach((e,t)=>s[e]=t);let l=s[e.fixedDayOff];return void 0!==l&&a===l},[]),G=(0,l.useCallback)((e,a,s)=>{let l=t.find(t=>t.id===e);if(l){if("T"===s){var i,n;if(V(l,a)){p({title:"Regra Violada",description:"".concat(l.name," tem folga fixa neste dia (").concat(l.fixedDayOff,"). Use 'FF' para Folga Feriado."),variant:"destructive"});return}let t=1;for(let s=1;s<=6;s++)if((null===(i=r[eu(e,(0,ed.f)(a,-s))])||void 0===i?void 0:i.shift)==="T")t++;else break;if(t>6){p({title:"Regra Violada",description:"".concat(l.name," n\xe3o pode trabalhar mais de 6 dias consecutivos."),variant:"destructive"});return}if(0===a.getDay()){let t=1;for(let s=1;s<=3;s++)if((null===(n=r[eu(e,(0,ed.f)(a,-(7*s)))])||void 0===n?void 0:n.shift)==="T")t++;else break;if(t>3){p({title:"Regra Violada",description:"".concat(l.name," n\xe3o pode trabalhar mais de 3 domingos consecutivos."),variant:"destructive"});return}}}o(t=>{let r=eu(e,a),o=t[r]||{shift:"F",role:"",baseHours:"",holidayReason:void 0},i=o.role,n=o.baseHours,d=o.holidayReason;if("T"===s){i=o.role||l.defaultRole||"";let e=C(a),t=$(a,e),s=o.baseHours||"";if(!s||!t.includes(s)){let e=l.defaultShiftType;if(e&&"Nenhum"!==e){let a=J[e];s=t.includes(a)?a:t.length>0?t[0]:""}else s=t.length>0?t[0]:""}n=s,!i&&l.defaultRole&&(i=l.defaultRole),d=void 0}else if("F"===s)i="",n="",d=void 0;else if("FF"===s){var c;i="",n="",d=null!==(c=o.holidayReason)&&void 0!==c?c:""}return{...t,[r]:{shift:s,role:i,baseHours:n,holidayReason:d}}})}},[t,r,p,V,C]),W=(0,l.useCallback)((e,t,a,s)=>{o(l=>{let r=eu(e,t),o=l[r]||{shift:"F",role:"",baseHours:"",holidayReason:void 0};if("role"===a||"baseHours"===a){if("T"!==o.shift)return p({title:"A\xe7\xe3o Inv\xe1lida",description:"S\xf3 \xe9 poss\xedvel definir Fun\xe7\xe3o/Hor\xe1rio para dias de Trabalho (T).",variant:"default"}),l}else if("holidayReason"===a&&"FF"!==o.shift)return p({title:"A\xe7\xe3o Inv\xe1lida",description:"S\xf3 \xe9 poss\xedvel definir Motivo do Feriado para dias de Folga Feriado (FF).",variant:"default"}),l;return{...l,[r]:{...o,[a]:s}}})},[p]),L=l.useMemo(()=>{if(!h)return[];let{employee:e,role:a}=c,s=(0,A.w)(i),l=(0,E.p)(i);return t.filter(t=>{if(e&&t.id!==parseInt(e))return!1;if(a){let e=!1,o=new Date(s);for(;(0,eA.Y)(o,(0,ed.f)(l,1));){let l=r[eu(t.id,o)];if(l&&"T"===l.shift&&l.role===a){e=!0;break}if(o=(0,ed.f)(o,1),(0,eE.c)(o,s)>40)break}if(!e)return!1}return!0})},[t,r,c,i,h]),Y=(0,l.useCallback)(()=>{F(!0)},[]),q=(0,l.useCallback)(()=>{let e=ef((0,A.w)(i),(0,E.p)(i)),a={...r};t.forEach(t=>{e.forEach(e=>{a[eu(t.id,e)]={shift:"F",role:"",baseHours:"",holidayReason:void 0}})}),o(a),F(!1),p({title:"Sucesso",description:"Escala do m\xeas de ".concat((0,M.GP)(i,"MMMM yyyy",{locale:z.F})," zerada para 'Folga'.")})},[i,t,r,p]),K={0:"DOM",1:"SEG",2:"TER",3:"QUA",4:"QUI",5:"SEX",6:"SAB"},Z=(0,l.useCallback)(()=>{if(!h)return;let e=new ta.default({orientation:"landscape"}),t=(0,A.w)(i),a=ef(t,(0,E.p)(i));e.setFontSize(14),e.text("ShiftMaster - Escala de Trabalho",14,15),e.setFontSize(10),e.setTextColor(100);let s="M\xeas: ".concat((0,M.GP)(t,"MMMM yyyy",{locale:z.F}));e.text(s,14,22);let l=[["Colaborador",...a.map(e=>"".concat(K[e.getDay()],"\n").concat((0,M.GP)(e,"dd")))]],o=L.map(e=>{let t=[e.name];return a.forEach(a=>{let s=r[eu(e.id,a)],l="-";if(s){if("T"===s.shift){let e=s.role?s.role.substring(0,3).toUpperCase():"?",t=s.baseHours?s.baseHours.replace(" \xe0s ","-").replace(" ",""):"?";l="".concat(e,"\n").concat(t)}else"F"===s.shift?l="F":"FF"===s.shift&&(l=s.holidayReason?"FF\n(".concat(s.holidayReason.substring(0,5),")"):"FF")}t.push(l)}),t}),n=e.internal.pageSize.getWidth(),d=Math.max(8,(n-28-25)/a.length),c=a.map((e,t)=>C(e)?t+1:-1).filter(e=>-1!==e);e.autoTable({startY:28,head:l,body:o,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold",halign:"center",valign:"middle",fontSize:6,cellPadding:{top:.5,right:.5,bottom:.5,left:.5},lineColor:[200,200,200],lineWidth:.1},styles:{cellPadding:{top:.5,right:.2,bottom:.5,left:.2},fontSize:5,valign:"middle",halign:"center",lineWidth:.1,lineColor:[200,200,200],minCellHeight:6},columnStyles:{0:{halign:"left",fontStyle:"bold",fontSize:6,cellWidth:25,minCellWidth:25,overflow:"linebreak"},...a.reduce((e,t,a)=>(e[a+1]={cellWidth:d,minCellWidth:8},e),{})},didParseCell:function(e){if("body"===e.cell.section&&e.column.index>0){let t=e.row.index,s=e.column.index-1;if(t>=0&&t<L.length&&s>=0&&s<a.length){let l=r[eu(L[t].id,a[s])],o=(null==l?void 0:l.shift)||"F";"F"===o?(e.cell.styles.fillColor=[240,240,240],e.cell.styles.textColor=[120,120,120]):"FF"===o?(e.cell.styles.fillColor=[46,204,113],e.cell.styles.textColor=255,e.cell.styles.fontStyle="bold"):"T"===o?(e.cell.styles.fillColor=[231,76,60],e.cell.styles.textColor=255,e.cell.styles.fontStyle="bold"):(e.cell.styles.fillColor=[255,255,255],e.cell.styles.textColor=[180,180,180])}}if("body"===e.cell.section&&c.includes(e.column.index)){let t=e.cell.styles.fillColor||[255,255,255];e.cell.styles.fillColor=Array.isArray(t)?[Math.min(255,t[0]+10),Math.min(255,t[1]+10),Math.max(0,t[2]-5)]:"#e0e7ff",e.cell.styles.lineColor=[52,152,219],e.cell.styles.lineWidth=.15}"head"===e.cell.section&&e.column.index>0&&(e.cell.styles.fontStyle="bold",e.cell.styles.halign="center",e.cell.styles.valign="middle",c.includes(e.column.index)&&(e.cell.styles.fillColor=[52,152,219],e.cell.styles.textColor=255)),"body"===e.cell.section&&0===e.column.index&&(e.cell.styles.fontStyle="bold",e.cell.styles.halign="left")}});let f=e.lastAutoTable.finalY||30;e.setFontSize(8),e.text("Legenda:",14,f+8);let u=14,m=f+12;Object.entries(Q).forEach(t=>{let[a,s]=t,l=[255,255,255];"T"===a&&(l=[231,76,60]),"F"===a&&(l=[240,240,240]),"FF"===a&&(l=[46,204,113]),e.setFillColor.apply(e,Array.isArray(l)?l:[255,255,255]),e.rect(u,m-2.5,3,3,"F"),e.setTextColor(0),e.text("".concat(a,": ").concat(s),u+5,m),(u+=35)>n-40&&(u=14,m+=5)}),e.setFillColor(52,152,219),e.rect(u,m-2.5,3,3,"F"),e.setTextColor(0),e.text("Coluna/Dia Feriado",u+5,m),e.save("escala_".concat((0,M.GP)(t,"yyyy-MM"),".pdf")),p({title:"Sucesso",description:"PDF da escala gerado."})},[h,i,L,r,p,u,C]),B=(0,l.useCallback)(()=>{if(!h||!c.selectedDate){p({title:"Erro",description:"Selecione uma data para gerar o texto do WhatsApp.",variant:"destructive"});return}let e=C(c.selectedDate),a=function(e,t,a,s){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ee;if(!e||isNaN(e.getTime()))return"*Erro: Data inv\xe1lida selecionada.*";let r=(0,M.GP)(e,"EEEE",{locale:z.F}),o=r.charAt(0).toUpperCase()+r.slice(1),i=(0,M.GP)(e,"dd 'de' MMMM",{locale:z.F}),n="\uD83D\uDCC5 *Escala - ".concat(o,", ").concat(i).concat(s?" (Feriado)":"","*\n\n"),d={},c=[],f=!1;return t.forEach(t=>{let l=a[eu(t.id,e)];if(l&&"F"!==l.shift&&"FF"!==l.shift){if("T"===l.shift){f=!0;let a=l.role||"S/Fun\xe7\xe3o",r=l.baseHours||"S/Hor\xe1rio",o="Outro",i=r.toLowerCase().replace("h","");i.startsWith("10")||i.startsWith("11")||i.startsWith("12")&&(s||0===e.getDay())?o="Abertura":!i.startsWith("12")||i.endsWith("22")||s||0===e.getDay()?(i.includes("\xe0s 20")||i.includes("\xe0s 21")||i.includes("\xe0s 22"))&&(o="Fechamento"):o="Intermedi\xe1rio",d[o]||(d[o]={}),d[o][a]||(d[o][a]=[]),d[o][a].push({name:t.name,hours:r})}}else c.push({code:(null==l?void 0:l.shift)||"F",name:t.name,reason:(null==l?void 0:l.shift)==="FF"?l.holidayReason:void 0})}),["Abertura","Intermedi\xe1rio","Fechamento","Outro"].forEach(e=>{let t=d[e];if(t&&Object.keys(t).length>0){let a="";e:for(let e in t)for(let s of t[e])if(s.hours&&"S/Hor\xe1rio"!==s.hours){a=s.hours;break e}let s="Outro"!==e?e:1===Object.keys(d).length?"Turno":"";s&&(n+="".concat("Abertura"===e?"☀️":"Intermedi\xe1rio"===e?"⏱️":"Fechamento"===e?"\uD83C\uDF19":"⏰"," *").concat(s).concat(a?" (".concat(a,")"):"","*\n")),Object.keys(t).sort().forEach(e=>{let a=l[e]||"⚪";t[e].sort((e,t)=>e.name.localeCompare(t.name)).forEach(t=>{n+="".concat(a," ").concat(e," - ").concat(t.name).concat(t.hours&&"S/Hor\xe1rio"!==t.hours?" - ".concat(t.hours):"","\n")})}),n+="\n"}}),c.length>0&&(n+="\uD83D\uDECC *Folgas*\n",c.sort((e,t)=>e.name.localeCompare(t.name)).forEach(e=>{let t="FF"===e.code?e.reason?" (".concat(e.reason,")"):" (Feriado)":"";n+="\uD83D\uDE34 ".concat(e.name).concat(t,"\n")}),n+="\n"),f||0!==c.length||(n+="_Nenhuma informa\xe7\xe3o de escala para este dia._"),n.trim()}(c.selectedDate,t,r,e,ee);navigator.clipboard.writeText(a).then(()=>{p({title:"Sucesso",description:"Texto da escala de ".concat((0,M.GP)(c.selectedDate,"dd/MM/yyyy",{locale:z.F})," copiado.")})}).catch(e=>{console.error("Failed to copy WhatsApp text: ",e),p({title:"Erro",description:"Falha ao copiar texto.",variant:"destructive"})})},[h,c.selectedDate,t,r,p,C,ee]);if(!h)return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)("p",{children:"Carregando..."})});let X=ef((0,A.w)(i),(0,E.p)(i));return(0,s.jsxs)("div",{className:"p-2 sm:p-4 flex flex-col h-screen bg-background",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 flex-wrap gap-2",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-primary text-center sm:text-left",children:"ShiftMaster"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap gap-1 justify-center sm:justify-end",children:[(0,s.jsxs)(d,{onClick:Z,variant:"outline",size:"sm",children:[(0,s.jsx)(eM.A,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," PDF (M\xeas)"]}),(0,s.jsxs)(d,{onClick:B,variant:"outline",size:"sm",children:[(0,s.jsx)(ez.A,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," WhatsApp (Dia)"]}),(0,s.jsxs)(d,{onClick:k,size:"sm",children:[(0,s.jsx)(eI.A,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," Adicionar"]}),(0,s.jsxs)(d,{variant:"destructive",onClick:Y,size:"sm",children:[(0,s.jsx)(eH.A,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"})," Zerar M\xeas"]})]})]}),(0,s.jsx)(U,{filters:c,employees:t,roles:et,onFilterChange:O}),(0,s.jsxs)("div",{className:"flex justify-center items-center my-2 sm:my-4 space-x-2 sm:space-x-4",children:[(0,s.jsx)(d,{variant:"outline",size:"sm",onClick:()=>n(e=>(0,ed.f)((0,A.w)(e),-1)),children:"M\xeas Ant."}),(0,s.jsx)("span",{className:"text-base sm:text-lg font-semibold text-foreground whitespace-nowrap",children:(0,M.GP)(i,"MMMM yyyy",{locale:z.F})}),(0,s.jsx)(d,{variant:"outline",size:"sm",onClick:()=>n(e=>(0,ed.f)((0,E.p)(e),1)),children:"Pr\xf3x. M\xeas"})]}),(0,s.jsx)("div",{ref:S,className:"flex-grow overflow-auto border rounded-lg shadow-md bg-card",children:(0,s.jsx)(eR,{employees:L,schedule:r,dates:X,holidays:u,onShiftChange:G,onDetailChange:W,onEditEmployee:I,onDeleteEmployee:H,onToggleHoliday:R})}),(0,s.jsx)(e0,{isOpen:y,onOpenChange:g,employee:b,onSave:P}),(0,s.jsx)(e2,{open:null!==j,onOpenChange:e=>!e&&N(null),children:(0,s.jsxs)(e3,{children:[(0,s.jsxs)(e8,{children:[(0,s.jsx)(e9,{children:"Confirmar Remo\xe7\xe3o"}),(0,s.jsxs)(e7,{children:['Tem certeza que deseja remover "',(null===(e=t.find(e=>e.id===j))||void 0===e?void 0:e.name)||"colaborador",'"? Os dados de escala tamb\xe9m ser\xe3o removidos. Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,s.jsxs)(e6,{children:[(0,s.jsx)(tt,{onClick:()=>N(null),children:"Cancelar"}),(0,s.jsx)(te,{onClick:_,variant:"destructive",children:"Remover"})]})]})}),(0,s.jsx)(e2,{open:w,onOpenChange:F,children:(0,s.jsxs)(e3,{children:[(0,s.jsxs)(e8,{children:[(0,s.jsx)(e9,{children:"Confirmar Zerar Escala"}),(0,s.jsxs)(e7,{children:["Tem certeza que deseja zerar a escala para o m\xeas de ",(0,M.GP)(i,"MMMM yyyy",{locale:z.F}),"? Todos os dias para TODOS os colaboradores neste m\xeas ser\xe3o definidos como 'Folga' (F). Feriados marcados ser\xe3o mantidos, mas o status do colaborador ser\xe1 'F'. Esta a\xe7\xe3o n\xe3o pode ser desfeita."]})]}),(0,s.jsxs)(e6,{children:[(0,s.jsx)(tt,{children:"Cancelar"}),(0,s.jsx)(te,{onClick:q,variant:"destructive",children:"Zerar Escala do M\xeas"})]})]})})]})}},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var s=a(12115);let l=0,r=new Map,o=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],d={toasts:[]};function c(e){d=i(d,e),n.forEach(e=>{e(d)})}function f(e){let{...t}=e,a=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:f,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[930,774,188,441,684,358],()=>t(690)),_N_E=e.O()}]);